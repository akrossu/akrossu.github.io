import{s as Le,a as S,f as r,l as K,z as Oe,d as h,c as j,g as c,h as A,y as ee,m as W,j as s,L as Z,i as de,A as e,M as $,p as le,E as Ve,N as ze,o as Fe}from"../chunks/scheduler.BtYfPFkB.js";import{S as He,i as qe,b as Ne,d as Se,m as je,a as Ie,t as Ue,e as Be}from"../chunks/index.D_F554_W.js";import{e as De}from"../chunks/each.D6YF6ztN.js";import{S as Ye,H as Ke}from"../chunks/sidebar.DryN8hsx.js";const We=typeof window<"u"?window:typeof globalThis<"u"?globalThis:global;new TextEncoder;const{document:ye}=We;function Me(l,m,a){const n=l.slice();return n[28]=m[a],n[30]=a,n}function Re(l){let m,a,n,F=++l[30]+"",u,y,T,f,w=l[28].name+"",p,H,g,U,v=l[28].artist.name+"",B,I;return{c(){m=r("div"),a=r("p"),n=r("span"),u=K(F),y=S(),T=r("span"),f=r("a"),p=K(w),g=S(),U=r("p"),B=K(v),I=S(),this.h()},l(E){m=c(E,"DIV",{class:!0});var P=A(m);a=c(P,"P",{});var k=A(a);n=c(k,"SPAN",{class:!0});var q=A(n);u=W(q,F),q.forEach(h),y=j(k),T=c(k,"SPAN",{class:!0});var Q=A(T);f=c(Q,"A",{href:!0,target:!0});var x=A(f);p=W(x,w),x.forEach(h),g=j(Q),U=c(Q,"P",{});var D=A(U);B=W(D,v),D.forEach(h),Q.forEach(h),k.forEach(h),I=j(P),P.forEach(h),this.h()},h(){s(n,"class","inline-block w-9"),s(f,"href",H=l[28].url),s(f,"target","_blank"),s(T,"class","inline-block align-middle"),s(m,"class","my-4")},m(E,P){de(E,m,P),e(m,a),e(a,n),e(n,u),e(a,y),e(a,T),e(T,f),e(f,p),e(T,g),e(T,U),e(U,B),e(m,I)},p(E,P){P&16&&w!==(w=E[28].name+"")&&le(p,w),P&16&&H!==(H=E[28].url)&&s(f,"href",H),P&16&&v!==(v=E[28].artist.name+"")&&le(B,v)},d(E){E&&h(m)}}}function Ge(l){let m,a,n,F,u,y,T,f,w,p="Currently loading...",H,g,U,v,B,I,E,P,k,q,Q="> currently listening to",x,D,G,ae,re,se,d,i,M,Y,ne="top tracks",R,C,L,be="week",_e,O,we="month",me,V,Ee="year",pe,z,Ce="all-time",ge,N,ve,Ae;ye.title=m="[ home@akross:/"+ue+" ]",n=new Ye({props:{title:ue}}),y=new Ke({props:{title:ue}});let te=De(l[4]),b=[];for(let t=0;t<te.length;t+=1)b[t]=Re(Me(l,te,t));return{c(){a=S(),Ne(n.$$.fragment),F=S(),u=r("div"),Ne(y.$$.fragment),T=S(),f=r("div"),w=r("span"),w.textContent=p,H=S(),g=r("span"),U=K("> last played song was "),v=r("a"),B=K(l[1]),I=K(" by "),E=K(l[2]),P=S(),k=r("div"),q=r("span"),q.textContent=Q,x=S(),D=r("span"),G=r("a"),ae=K(l[1]),re=K(" by "),se=K(l[2]),d=S(),i=r("div"),M=r("div"),Y=r("h2"),Y.textContent=ne,R=S(),C=r("span"),L=r("button"),L.textContent=be,_e=S(),O=r("button"),O.textContent=we,me=S(),V=r("button"),V.textContent=Ee,pe=S(),z=r("button"),z.textContent=Ce,ge=S();for(let t=0;t<b.length;t+=1)b[t].c();this.h()},l(t){Oe("svelte-1x1mgtu",ye.head).forEach(h),a=j(t),Se(n.$$.fragment,t),F=j(t),u=c(t,"DIV",{class:!0});var o=A(u);Se(y.$$.fragment,o),T=j(o),f=c(o,"DIV",{});var J=A(f);w=c(J,"SPAN",{id:!0,"data-svelte-h":!0}),ee(w)!=="svelte-1y72wgj"&&(w.textContent=p),H=j(J),g=c(J,"SPAN",{id:!0,class:!0});var oe=A(g);U=W(oe,"> last played song was "),v=c(oe,"A",{href:!0,target:!0});var Te=A(v);B=W(Te,l[1]),Te.forEach(h),I=W(oe," by "),E=W(oe,l[2]),oe.forEach(h),P=j(J),k=c(J,"DIV",{id:!0,class:!0});var ce=A(k);q=c(ce,"SPAN",{"data-svelte-h":!0}),ee(q)!=="svelte-1bi60oo"&&(q.textContent=Q),x=j(ce),D=c(ce,"SPAN",{class:!0});var ie=A(D);G=c(ie,"A",{href:!0,target:!0});var Pe=A(G);ae=W(Pe,l[1]),Pe.forEach(h),re=W(ie," by "),se=W(ie,l[2]),ie.forEach(h),ce.forEach(h),J.forEach(h),d=j(o),i=c(o,"DIV",{class:!0});var fe=A(i);M=c(fe,"DIV",{class:!0});var he=A(M);Y=c(he,"H2",{class:!0,"data-svelte-h":!0}),ee(Y)!=="svelte-jw53kh"&&(Y.textContent=ne),R=j(he),C=c(he,"SPAN",{class:!0});var X=A(C);L=c(X,"BUTTON",{class:!0,"data-svelte-h":!0}),ee(L)!=="svelte-ty6f69"&&(L.textContent=be),_e=j(X),O=c(X,"BUTTON",{class:!0,"data-svelte-h":!0}),ee(O)!=="svelte-1ss0ofx"&&(O.textContent=we),me=j(X),V=c(X,"BUTTON",{class:!0,"data-svelte-h":!0}),ee(V)!=="svelte-zm4u0w"&&(V.textContent=Ee),pe=j(X),z=c(X,"BUTTON",{class:!0,"data-svelte-h":!0}),ee(z)!=="svelte-gvzq7k"&&(z.textContent=Ce),X.forEach(h),he.forEach(h),ge=j(fe);for(let ke=0;ke<b.length;ke+=1)b[ke].l(fe);fe.forEach(h),o.forEach(h),this.h()},h(){s(w,"id","loadingMessage"),s(v,"href",l[3]),s(v,"target","_blank"),s(g,"id","nowPlayingNone"),s(g,"class","hidden"),s(G,"href",l[3]),s(G,"target","_blank"),s(D,"class","normal-case"),s(k,"id","listening"),s(k,"class","hidden"),s(Y,"class","mr-auto"),s(L,"class","svelte-1g3s2em"),Z(L,"active",l[0]==="week"),s(O,"class","svelte-1g3s2em"),Z(O,"active",l[0]==="month"),s(V,"class","svelte-1g3s2em"),Z(V,"active",l[0]==="year"),s(z,"class","svelte-1g3s2em"),Z(z,"active",l[0]==="all-time"),s(C,"class","space-x-4"),s(M,"class","inline-flex w-full pr-2 md:pr-4"),s(i,"class","mt-4"),s(u,"class","max-w-content w-full")},m(t,_){de(t,a,_),je(n,t,_),de(t,F,_),de(t,u,_),je(y,u,null),e(u,T),e(u,f),e(f,w),e(f,H),e(f,g),e(g,U),e(g,v),e(v,B),e(g,I),e(g,E),e(f,P),e(f,k),e(k,q),e(k,x),e(k,D),e(D,G),e(G,ae),e(D,re),e(D,se),e(u,d),e(u,i),e(i,M),e(M,Y),e(M,R),e(M,C),e(C,L),e(C,_e),e(C,O),e(C,me),e(C,V),e(C,pe),e(C,z),e(i,ge);for(let o=0;o<b.length;o+=1)b[o]&&b[o].m(i,null);N=!0,ve||(Ae=[$(L,"click",l[6]),$(L,"click",l[7]),$(O,"click",l[8]),$(O,"click",l[9]),$(V,"click",l[10]),$(V,"click",l[11]),$(z,"click",l[12]),$(z,"click",l[13])],ve=!0)},p(t,[_]){if((!N||_&0)&&m!==(m="[ home@akross:/"+ue+" ]")&&(ye.title=m),(!N||_&2)&&le(B,t[1]),(!N||_&8)&&s(v,"href",t[3]),(!N||_&4)&&le(E,t[2]),(!N||_&2)&&le(ae,t[1]),(!N||_&8)&&s(G,"href",t[3]),(!N||_&4)&&le(se,t[2]),(!N||_&1)&&Z(L,"active",t[0]==="week"),(!N||_&1)&&Z(O,"active",t[0]==="month"),(!N||_&1)&&Z(V,"active",t[0]==="year"),(!N||_&1)&&Z(z,"active",t[0]==="all-time"),_&16){te=De(t[4]);let o;for(o=0;o<te.length;o+=1){const J=Me(t,te,o);b[o]?b[o].p(J,_):(b[o]=Re(J),b[o].c(),b[o].m(i,null))}for(;o<b.length;o+=1)b[o].d(1);b.length=te.length}},i(t){N||(Ie(n.$$.fragment,t),Ie(y.$$.fragment,t),N=!0)},o(t){Ue(n.$$.fragment,t),Ue(y.$$.fragment,t),N=!1},d(t){t&&(h(a),h(F),h(u)),Be(n,t),Be(y),Ve(b,t),ve=!1,ze(Ae)}}}const Je="b5d288ff2d78a6c4e32cfd6d97d2a67e",Qe="https://ws.audioscrobbler.com/2.0/",ue="music-list";function Xe(l,m,a){let n,F,u,y="all-time",T="",f="",w="",p=[];Fe(()=>{n=document.getElementById("loadingMessage"),F=document.getElementById("listening"),u=document.getElementById("nowPlayingNone"),I("overall"),E(),P(12e4)});async function H(){const i=(await k("user.getRecentTracks",1)).recenttracks.track[0];a(1,T=i.name),a(2,f=i.artist["#text"]),a(3,w=i.url),n&&(n.style.display="none"),i["@attr"]&&i["@attr"].nowplaying?(u.style.display="none",F.style.display="block"):u.style.display="block"}let g=null,U=null,v=null,B=null;async function I(d){if(d==="7day"&&g!=null)a(4,p=g);else if(d==="1month"&&U!=null)a(4,p=U);else if(d==="12month"&&v!=null)a(4,p=v);else if(d==="overall"&&B!=null)a(4,p=B);else{let i=await k("user.getTopTracks",10,d);a(4,p=i.toptracks.track),d==="7day"?g=p:d==="1month"?U=p:d==="12month"?v=p:d==="overall"&&(B=p)}}async function E(){(await k("user.getTopArtists",8)).topartists.artist}async function P(d){async function i(){try{await H()}catch(M){console.error(M)}finally{setTimeout(i,d)}}i()}async function k(d,i,M){const Y=new URL(Qe),ne={method:d,user:"akrossu",limit:i,period:M,api_key:Je,format:"json"};Object.keys(ne).forEach(R=>Y.searchParams.append(R,ne[R]));try{let R;return await fetch(Y).then(C=>C.json()).then(C=>{R=C}),R}catch(R){throw console.error("Error fetching data: ",R),n&&(n.textContent="Error fetching data from LastFM"),R}}return[y,T,f,w,p,I,()=>{I("7day")},()=>a(0,y="week"),()=>I("1month"),()=>a(0,y="month"),()=>I("12month"),()=>a(0,y="year"),()=>I("overall"),()=>a(0,y="all-time")]}class tt extends He{constructor(m){super(),qe(this,m,Xe,Ge,Le,{})}}export{tt as component};
